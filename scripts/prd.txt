# FOF(핏풀 오버플로우) 1차 프로젝트 PRD

## 1. 유저 역할 및 인증
- 유저는 일반 user와 admin으로 구분된다.
- 자체 회원가입 및 소셜 로그인(카카오, 구글 등) 지원.
- 전화번호/계좌 인증은 테이블만 존재, 실제 기능은 추후 개발.
- 유저는 자신의 상품을 등록/조회/취소할 수 있다.
- 유저는 admin과 1:1 메시지(채팅)로 소통할 수 있다.

## 2. 상품 등록/관리
- 유저는 상품(제목, 카테고리, 가격 필수, 사진/설명/판매여부 선택)을 등록할 수 있다.
- 등록된 상품은 admin이 검수/승인 후 웹사이트에 게시된다.
- admin은 상품의 상태(사진, 로그 등)를 관리한다.
- 상품은 대여 가능/불가 날짜를 명시(달력 방식).
- 상품이 오랜 기간 대여되지 않으면 보관료 부과 알림.

## 3. 대여/예약/구매
- 유저는 타인의 상품을 대여(예약)할 수 있다.
- 대여 예약은 1달 단위, 장기 대여 시 자동 할인.
- 대여 중/예약 없는 상품은 소유주가 언제든 등록 취소 및 반납 가능.
- 대여 종료 후, 유저는 별점/코멘트(리뷰) 작성 가능.
- 일정 기간 이상 대여 시 구매 권한 부여(판매여부에 따라).

## 4. 결제/정산/보관료
- 결제/정산/보관료/보상금 등은 PaymentLog 테이블로 관리.
- 상품 반납 완료 후 소유주에게 정산.
- 보관료는 대여 이력/기간에 따라 부과(알고리즘 필요).

## 5. AI/추천/시세
- 상품 등록 시 AI가 제품명/사진 기반으로 시세 크롤링(중고나라, 당근, 쿠팡, 네이버쇼핑 등).
- AI가 적정가격/적합여부를 admin에게 제안, admin이 승인/거절.
- 유저는 AI에게 대여 추천(상황별, 패키지 등)을 받을 수 있다.
- 패키지 대여(여러 상품 묶음, 할인 적용) 가능.

## 6. 메시지/알림/관리
- 유저와 admin 간 1:1 메시지(메시지 테이블).
- 상품 문의/상태/승인/보관료 등 알림(Notification 테이블).
- 상품 상태 로그(사진, 메모 등) 기록.

## 7. 인플루언서/홍보관
- 인플루언서가 상품을 맡기거나, 사용 후기를 영상/글로 남길 수 있음.
- 해당 상품 정보/링크와 함께 노출.

## 8. 테이블/ERD 범위
- User, Account, Product, Category, RentalRequest, CompletedRental, PaymentLog, Notification, RentalReview, Message, ProductStatusLog, AiReview, AiRecommend, Package, PackageItem, InfluencerPromo 등
- ERD/스키마에 정의된 모든 테이블의 CRUD 및 주요 비즈니스 로직 구현이 1차 완성 범위.

## 9. 기타
- 모든 기능은 Node.js(Express) + PostgreSQL(Prisma) 환경에서 구현.
- Docker, 테스트, 관리자 기능, 프론트엔드 연동 등은 별도 관리.

# 1차 목표: 위 ERD/스키마 내 모든 테이블의 CRUD 및 핵심 서비스 흐름을 완성하는 것.

Fitpull Overflow (FOF) — Product Requirements Document
# Overview
Fitpull Overflow는 사람들이 물건, 장소, 재능, 사람 등을 자유롭게 등록하고 대여할 수 있는 커뮤니티 기반 렌탈 플랫폼입니다.
유휴 자원을 공유함으로써 경제적 효율을 극대화하며, 등록자와 대여자 모두에게 이득이 되는 구조를 지향합니다.

주요 대상: 
공간이나 물건을 놀리고 있는 일반 유저
특정 용도(캠핑, 결혼식, 인터뷰 등)에 맞춰 필요한 걸 잠깐 빌리고 싶은 사람
중고나라, 당근처럼 직접 거래가 부담스러운 유저들

핵심 문제 해결: 
분산된 대여 정보의 중앙화
AI를 통한 시세 자동 분석 및 적정 가격 제안
대여 상태 이력 관리와 분쟁 대비 사진 기반 로깅

# Core Features
상품 등록 + 관리자 승인 시스템
유저가 등록한 물건은 admin의 검수를 통해 사이트에 공개됨
사진, 제목, 카테고리, 설명, 가격 정보 등을 입력 가능

대여/반납 + 일정 예약 시스템
유저는 원하는 날짜에 대여 가능 여부를 확인하고 예약
장기 대여 시 자동 할인 기능 포함

AI 기반 시세 분석
제품명 + 이미지 기반으로 시세를 AI가 크롤링
적정 가격 자동 산출 및 관리자에게 '부적합' 여부 제시

대여 이력 기반 구매 권한 부여
일정 기간 이상 반복 대여 시, 구매 제안 알림 전송

상태 추적용 사진 로그
등록 시, 검수 시, 대여 직전/직후 사진 로그 저장
분쟁 발생 시 비교 기반 중재 가능

메시지 기능
관리자와의 1:1 메신저 (처음엔 메시지함, 후에 실시간 채팅)

패키지 대여 시스템
AI가 상황별로 필요한 물품을 묶어서 자동 추천
예: 캠핑 풀세트, 결혼식 세트, 면접 준비 세트 등

전문가 시스템
변호사, 품질검수관, 사진 전문가 등의 전문가 참여 가능성 고려

# User Experience
유저 페르소나
자산 등록자: 안 쓰는 물건을 효율적으로 돌리고 싶은 일반인
대여자: 특정 용도로 물건을 잠깐 필요로 하는 사용자
관리자: 승인/검수/알림 등을 처리하는 내부 운영진

주요 유저 흐름
유저 회원가입 (자체/소셜)
상품 등록 (사진은 선택)
관리자 승인 → 웹에 게시됨
다른 유저가 예약 → 대여
반납 후 후기 작성
일정 기록 기반 구매 권한 안내

UI/UX 고려사항
카테고리별 검색 필터
달력 기반 예약 UI
메시지함/알림/상태 로깅 히스토리 UI
대여 중/예약 중/등록 완료/보류 등 상태 구분

# Technical Architecture
백엔드: Node.js + Express.js

인증: JWT 기반 로그인, 향후 OAuth 및 본인 인증 추가 예정

DB: PostgreSQL (prisma 기반 예상)

AI 연동: OpenRouter 기반 모델 (GPT/Claude 등)

배포: AWS EC2 + PM2 + docker(고려) + 추가로 더 필요하면 

사진 저장: S3 또는 클라우드 저장소

Socket: 추후 실시간 채팅 도입 고려

# Development Roadmap

## Phase 1: MVP (최소 기능)
- 유저 회원가입 (자체, JWT)
- 상품 등록/수정/삭제
- 관리자 승인/거절
- 상품 목록 조회
- 예약 기능

## Phase 2: 확장 (MVP 이후)
- 1:1 메시지함
- 대여 상태 기록
- 사진 로그 기능
- 후기 작성 기능
- AI 시세 분석 연동
- 패키지 대여 기능
- 구매 권한 안내 로직
- 실시간 채팅
- 전문가 중재 시스템
- 인플루언서 홍보관

# Logical Dependency Chain
유저 회원가입 + 상품 등록 기능

관리자 승인 + 게시 시스템

예약 → 대여 흐름

후기 시스템

메시지 → 상태 로깅

AI 시세 분석, 패키지 기능 등 추가

# Risks and Mitigations
위험요소	                        대응방안
사진 분쟁 발생 가능성	             상태 로그 기능 강화 (여러 시점 사진 저장)
유저 간 직거래로 수익 손실	          관리자 전담 채팅 체계 유지
악성재고 증가	                    보관료 정책 도입, 강제 회수 가능성
AI 시세 판단 신뢰도	                 관리자 최종 판단 + 유저 동의 기반 조율
유저 인증 부족	                    단계별 신원 인증 도입 계획 (번호, 계좌, 신분증 등)

# Appendix
카테고리 예시:
전자제품, 의류, 장소, 시계, 가방, 책, 사람

이름 의미:
Git Pull + Overflow 조합, 라임 맞춰 Fitpull
줄여서 FOF (귀엽고 기억 쉬움)

보관료 로직 아이디어:
일정 기간 무대여 → 보관료 발생 → 일정 이상 누적되면 반납 요청

인플루언서 홍보관 컨셉:
실제 사용 후기 영상 + 상품 링크 연결